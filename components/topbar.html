<header class="topbar" role="banner">
  <div class="container">
    <!-- Left: brand -->
    <a href="/" class="brand" aria-label="Offband home">
      <img class="logo-badge" src="/assets/logo-badge.svg" alt="Offband logo" width="28" height="28" />
      <span class="brand-name">Offband</span>
    </a>

    <!-- Right: badges + search -->
    <nav class="badges" aria-label="Account & security">
      <form class="site-search" role="search">
        <input id="topbar-search" type="search" placeholder="Searchâ€¦" aria-label="Search site" />
      </form>
      <a class="badge" href="/404.html" aria-label="Contact / account">
        <img src="/assets/account-badge.svg" alt="" width="24" height="24" />
      </a>
    </nav>
  </div>
  <script>
    (function(){
      // Find the search form either as the previous element or by id
      var container = document.currentScript && document.currentScript.previousElementSibling;
      var form = (container && container.querySelector && container.querySelector('form.site-search')) || (document.getElementById('topbar-search') && document.getElementById('topbar-search').form);
      if (!form) return;
      form.addEventListener('submit', function(e){
        e.preventDefault();
        var input = form.querySelector('input[type="search"]');
        var q = (input && input.value) ? input.value.trim() : '';
        if (!q) return;
        // Redirect into writeups with q param (hookable by writeups.js later)
        window.location.href = '/writeups/?q=' + encodeURIComponent(q);
      });
    })();
  </script>
</header>